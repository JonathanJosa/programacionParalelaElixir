<style> pre{background-color: #292F36;} </style><file name='cpp.ex'ubicacion='media/shared/partner1/cpp.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>ElixirScript.</span><span style='color:#9A8BBB;'>Compiler</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>entry</span> <span style='color:#FBFBFF;'>point</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>ElixirScript</span> <span style='color:#FBFBFF;'>compilation</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Takes</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>compiles</span> <span style='color:#FBFBFF;'>them</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>modules</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>functions</span> <span style='color:#FBFBFF;'>they</span> <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>into</span> <span style='color:#D7B884;'>JavaScript.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Will</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#FBFBFF;'>take</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>Elixir</span> <span style='color:#FBFBFF;'>files</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Takes</span> <span style='color:#FBFBFF;'>either</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>names</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>as</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>entry</span> <span style='color:#FBFBFF;'>point</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>application</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>library</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>From</span> <span style='color:#FBFBFF;'>there</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>determine</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>modules</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>functions</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>needed</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>compiled</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Available</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>are:</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>`</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>generated</span> <span style='color:#FBFBFF;'>JavaScript</span> <span style='color:#FBFBFF;'>file</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>output</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>`</span><span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>then</span> <span style='color:#FBFBFF;'>generated</span> <span style='color:#FBFBFF;'>code</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>sent</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>standard</span> <span style='color:#FBFBFF;'>out</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>output</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>generated</span> <span style='color:#FBFBFF;'>code</span> <span style='color:#FBFBFF;'>placed</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>ends</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>then</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>name</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>file</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>directory</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>given</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>file</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>named</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>elixirscript</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>build</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>`</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>Optional</span> <span style='color:#FBFBFF;'>root</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>imports</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>FFI</span> <span style='color:#FBFBFF;'>JavaScript</span> <span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Defaults</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>alias</span> <span style='color:#D7B884;'>ElixirScript.</span><span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>State</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>Translate</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>FindUsedModules</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>FindUsedFunctions</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>Output</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>alias</span> <span style='color:#D7B884;'>ElixirScript.</span><span style='color:#D7B884;'>ModuleSystems.</span><span style='color:#FBFBFF;'>ES</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>alias</span> <span style='color:#D7B884;'>Kernel.</span><span style='color:#FBFBFF;'>ParallelCompiler</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>input</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>atom</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>binary</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>input</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>map</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>compile</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>path</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>opts</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>compile</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>path</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>opts</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>binary</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>path</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>opts</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>build</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>path</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>if</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>ends</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>with?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>path</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>files</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>wildcard</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>ParallelCompiler.</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>files</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>each</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>pid</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>keys</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>compile</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>entry</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>modules</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>opts</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>opts</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>build</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>wrap</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>FindUsedModules.</span><span style='color:#FBFBFF;'>execute</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unused</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>functions</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>FindUsedFunctions.</span><span style='color:#FBFBFF;'>execute</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>entry</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Translate.</span><span style='color:#FBFBFF;'>execute</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Output.</span><span style='color:#FBFBFF;'>execute</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>stop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>transform</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>result</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>build</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>functions?</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unused</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>functions</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:output</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:output</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:format</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:es</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:root</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:root</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unused</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>functions</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>functions?</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:module</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>formatter</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ES</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>file</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>State.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>transform</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>compiled</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>cond</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>output</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>output</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:stdout</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>dir?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>output</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>           <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>dirname</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>data</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>ElixirScript.</span><span style='color:#FBFBFF;'>Core</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>references:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modified:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>source:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>ElixirScript.</span><span style='color:#D7B884;'>Core.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>diagnostics:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>code:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>type:</span> <span style='color:#EAC435;'><i>:ffi</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>data</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>current</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>data</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>diagnostics</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:diagnostics</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>x</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>x</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:file</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:file</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>references:</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modified:</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:last</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modified</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:beam</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>source:</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:file</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>diagnostics:</span> <span style='color:#FBFBFF;'>diagnostics</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>case</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>compiled</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>input</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modified</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>case</span> <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>stat</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>input</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>time:</span> <span style='color:#EAC435;'><i>:posix</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>                   <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>file</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                     <span style='color:#FBFBFF;'>file</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>mtime</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>                   <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                     <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>info</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:last</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modified</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modified</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:beam</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:source</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>input</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:js</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:js</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:type</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ffi</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>code</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>info</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:js</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:js</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:type</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:module</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>current</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>data</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span></code></pre><br></file>