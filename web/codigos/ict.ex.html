<style> pre{background-color: #292F36;} </style><file name='ict.ex'ubicacion='media/shared/partner1/ict.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>ElixirScript.</span><span style='color:#9A8BBB;'>State</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># Holds the state for the ElixirScript compiler</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>start</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>link</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>compiler</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>opts</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>modules:</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>opts:</span> <span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>opts</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>stop</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>stop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>value</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>value</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>used</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>used</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>uniq</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>has</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>used?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>func</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>used</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>find</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>x</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>x</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>func</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>!</span><span style='color:#1098F7;'>=</span> <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>used</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>function</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>arity</span><span style='color:#03DDB2;'>}</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>=</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>func</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>used</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>used</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>func</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:used</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>used</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>javascript</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:js</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>diagnostic</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>diagnostic</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>diagnostics</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:diagnostics</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>diagnostics</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>diagnostic</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>diagnostics</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:diagnostics</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>diagnostics</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>state</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>javascript</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>modules</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>module</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>js</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>modules</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>global</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>find</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>global</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>name</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>find</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>elem</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>result</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remove</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>unused</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>functions</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unused</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>functions</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>js</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>name</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>js</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>find</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>m</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>module</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>m</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>name</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>modules</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>modules</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>in</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>memory</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>in</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>memory</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>modules</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>in</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>memory</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>module</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>beam</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Agent.</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:in</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules:</span> <span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>memory</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span></code></pre><br></file>