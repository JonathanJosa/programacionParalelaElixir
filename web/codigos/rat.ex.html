<style> pre{background-color: #292F36;} </style><file name='rat.ex'ubicacion='media/shared/partner1/rat.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#                    Version 2, December 2004</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#  0. You just DO WHAT THE FUCK YOU WANT TO.</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Socket</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Protocol.</span><span style='color:#FBFBFF;'>t</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ws</span>  <span style='color:#FBFBFF;'>80</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>wss</span> <span style='color:#FBFBFF;'>443</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Error</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>defexception</span> <span style='color:#FBFBFF;'>message:</span> <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>exception</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>reason:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>reason</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>message</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>cond</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>msg</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>msg</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>           <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>reason</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>string</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>Error</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>message:</span> <span style='color:#FBFBFF;'>message</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>S</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>connecting</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>somewhere</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#D7B884;'>URI.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Supported URIs</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>tcp:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>TCP</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>ssl:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>SSL</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>ws:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Web</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>using</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>TCP</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>wss:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Web</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>using</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>SSL</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>udp:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>Socket:UDP</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Example</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>client</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tcp:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>google</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>com:80</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>client</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>send</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>GET</span> <span style='color:#FBFBFF;'>/</span> <span style='color:#FBFBFF;'>HTTP</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>r</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>client</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>recv</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>any</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>uri</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>or</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>binary</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>uri</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>tcp</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ssl</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ws</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ws</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>wss</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>wss</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>secure:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>connecting</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>somewhere</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>URI</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>see</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>uri</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>or</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>binary</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>uri</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>tcp</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ssl</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ws</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ws</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>wss</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>path</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>wss</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>secure:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>somewhere</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#D7B884;'>URI.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Supported URIs</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>host</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>converted</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>tcp:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>TCP</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>ssl:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>SSL</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>ws:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Web</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>using</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>TCP</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>wss:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Web</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>using</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>SSL</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>udp:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>host:port</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>Socket:UDP</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Example</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>server</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>listen</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tcp:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>*</span><span style='color:#EAC435;'><i>:1337</i></span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>client</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>accept</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>packet:</span> <span style='color:#EAC435;'><i>:line</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>client</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Stream.</span><span style='color:#FBFBFF;'>send</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>client</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>recv</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>client</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Stream.</span><span style='color:#FBFBFF;'>close</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>any</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>uri</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>or</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>binary</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>uri</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>tcp</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ssl</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ws</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ws</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>wss</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>wss</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>secure:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>somewhere</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>URI</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>see</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>uri</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>or</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>uri</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>binary</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>URI.</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>uri</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>tcp</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ssl</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>ws</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ws</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>%</span><span style='color:#03DDB2;'>URI</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'>scheme:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>wss</span><span style='color:#03DDB2;'>"</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>host</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Web.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#C73E1D;'>@default</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>wss</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>secure:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>local:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>address:</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>host</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>host</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>arguments</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:mode</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:passive</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:mode</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:active</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:active</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:mode</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:once</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:active</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:once</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:mode</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:passive</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:active</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:route</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dontroute</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:route</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dontroute</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuseaddr</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:linger</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:linger</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:priority</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:priority</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:tos</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:tos</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:send</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:close</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:send</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:send</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>close</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>timeout</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>integer</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:send</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:delay</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>delay</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:delay</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>send</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>delay</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:buffer</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>buffer</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:sndbuf</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>buffer</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:recv</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:buffer</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>buffer</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:recbuf</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>buffer</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Helpers</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>equal?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>packet</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>type</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>packet</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>type</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>active</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>active</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>active</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>active</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>passive</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>passive</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>local</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>local</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>remote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>remote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defdelegate</span> <span style='color:#FBFBFF;'>close</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>close</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defprotocol</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Check</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>two</span> <span style='color:#FBFBFF;'>sockets</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>same</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>equal?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>boolean</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>equal?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>other</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Accept</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>a</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connection</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>from</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>t</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>Keyword.</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>t</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Set</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>for</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>Keyword.</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>opts</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Change</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>packet</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>type</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>of</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>packet</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>packet</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>type</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Change</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>controlling</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>of</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Make</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Make</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>once</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#EAC435;'>:once</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>mode</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Make</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>passive</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>passive</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>passive</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Get</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>local</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>address</span><span style='color:#9A8BBB;'>/</span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>of</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>local</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Socket.</span><span style='color:#9A8BBB;'>Address.</span><span style='color:#9A8BBB;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:inet</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>number</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>local</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Get</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remote</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>address</span><span style='color:#9A8BBB;'>/</span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>of</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Socket.</span><span style='color:#9A8BBB;'>Address.</span><span style='color:#9A8BBB;'>t</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:inet</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>number</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Close</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'>.</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>close</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>t</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:ok</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>{</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:error</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>}</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>close</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>end</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>defimpl</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Socket.</span><span style='color:#9A8BBB;'>Protocol</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>for:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Port</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>equal?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>other</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>other</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>self</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>other</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>equal?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>other</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>self</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>elem</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>db</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>lookup</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tcp</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet6</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tcp</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>udp</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet6</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>udp</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:einval</i></span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>opts</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>packet</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>type</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>packet:</span> <span style='color:#FBFBFF;'>type</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>db</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>lookup</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tcp</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet6</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tcp</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tcp</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>controlling</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>udp</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet6</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>udp</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>udp</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>controlling</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>active:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#EAC435;'>:once</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>active:</span> <span style='color:#EAC435;'><i>:once</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>passive</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>active:</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>local</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>sockname</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>peername</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>close</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>close</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Protocol</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>Tuple</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>require</span> <span style='color:#FBFBFF;'>Record</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>equal?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>other</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>and</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>other</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>self</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>other</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>equal?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>other</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>self</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>elem</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>other</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>equal?</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>opts</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>packet</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>type</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>packet:</span> <span style='color:#FBFBFF;'>type</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>controlling</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>active:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>active</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#EAC435;'>:once</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>active:</span> <span style='color:#EAC435;'><i>:once</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>passive</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>active:</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>local</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>sockname</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>peername</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>close</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>self</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>close</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span></code></pre><br></file>