<style> pre{background-color: #292F36;} </style><file name='vector.ex'ubicacion='media/shared/partner1/vector.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i># persistent bit-partitioned vector trie</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i># http</i></span><span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>hypirion</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>com</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>musings</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>understanding</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>persistent</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>vector</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>pt</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>1</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>part</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Vector</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>import</span> <span style='color:#FBFBFF;'>Bitwise</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@bits</span> <span style='color:#FBFBFF;'>2</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@width</span> <span style='color:#FBFBFF;'>1</span> <span style='color:#EE7B30;'><<<</span> <span style='color:#C73E1D;'>@bits</span> <span style='color:#565857;'><i># 4-way branching</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@mask</span> <span style='color:#C73E1D;'>@width</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>1</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>require</span> <span style='color:#FBFBFF;'>Record</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#D7B884;'>Record.</span><span style='color:#FBFBFF;'>defrecordp</span> <span style='color:#EAC435;'><i>:vec</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>size:</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth:</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tree:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Builds</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>empty</span> <span style='color:#FBFBFF;'>vector</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>new</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>vec</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Builds</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>vector</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tim</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>jen</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tim</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>jen</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>new</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>list</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>round</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Float.</span><span style='color:#FBFBFF;'>ceil</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Integer.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>/</span> <span style='color:#C73E1D;'>@bits))</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>vec</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>size:</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth:</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tree:</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>size</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>vector</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>3</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>size</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>vec</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>size:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>size</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>size</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Gets</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>vector</span> <span style='color:#FBFBFF;'>at</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tim</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>jen</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>mac</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>kai</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>mac</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>vec</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>depth:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>depth</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>tree:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>tree</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>index</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Puts</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>vector</span> <span style='color:#FBFBFF;'>at</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tim</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>tim</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>put</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>vec</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>size:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>size</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>depth:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>depth</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>tree:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>tree</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>index</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>value</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>index</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>raise</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>index</span> <span style='color:#FBFBFF;'>too</span> <span style='color:#FBFBFF;'>large</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>index</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>size</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>index</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># grow tree</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>size</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#FBFBFF;'>*</span> <span style='color:#C73E1D;'>@width</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>tree</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># attach node</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>tree</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>put</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>vec</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>size:</span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth:</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tree:</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Given</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>accumulator</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>function</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>iterate</span> <span style='color:#FBFBFF;'>over</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>item</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>vector</span> <span style='color:#FBFBFF;'>passing</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>item</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>accumulator</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>function</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>should</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>modified</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>accumulator</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>2</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>6</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>reduce</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>vec</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>size:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>size</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>depth:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>depth</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>tree:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>tree</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>acc</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>fun</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>reduce</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>0</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reduce</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>with</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>i</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>reduce</span> <span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>index</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>i</span> <span style='color:#FBFBFF;'>*</span> <span style='color:#C73E1D;'>@width),</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>size</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reduce</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>slice</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>size</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>index</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>acc</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>indeces</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>0</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>level</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>*</span> <span style='color:#C73E1D;'>@bits</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>indeces</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>indeces</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span> <span style='color:#EE7B30;'>>>></span> <span style='color:#FBFBFF;'>level</span><span style='color:#FBFBFF;'>)</span> <span style='color:#EE7B30;'>&&&</span> <span style='color:#C73E1D;'>@mask</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>index</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>indeces</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>indeces</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>indeces</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>chunk</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@width,</span> <span style='color:#C73E1D;'>@width,</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@width))</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>depth</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>list</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>idx</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>rest</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>node</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>at</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>idx</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>rest</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>node</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>idx</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>rest</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rest</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>at</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>idx</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>rest</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>idx</span> <span style='color:#1098F7;'>do</span> <span style='color:#565857;'><i># expand this node</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>tree</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>tree</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>idx</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>replace</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>at</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>idx</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>rest</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>value</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>start</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>VectorTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>third</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>third</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fourth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>4</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>third</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fourth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>4</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fifth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>third</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fourth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fifth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>third</span> <span style='color:#FBFBFF;'>changed</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>third</span> <span style='color:#FBFBFF;'>changed</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fourth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fifth</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>64</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>Vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>64</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>v</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>4</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>6</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>sum</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>v</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>sum</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>21</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@size</span> <span style='color:#FBFBFF;'>100</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>0</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>creation</span> <span style='color:#FBFBFF;'>speed</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:timer</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>tc</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>List</span> <span style='color:#FBFBFF;'>creation</span> <span style='color:#FBFBFF;'>took</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>"</span> <span style='color:#565857;'><i># 2,815 microsecs</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:timer</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>tc</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Vector</span> <span style='color:#FBFBFF;'>creation</span> <span style='color:#FBFBFF;'>took</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>"</span> <span style='color:#565857;'><i># 18,996 microsecs</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>iteration</span> <span style='color:#FBFBFF;'>speed</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:timer</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>tc</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reduce</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>count</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>count</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>List</span> <span style='color:#FBFBFF;'>traversal</span> <span style='color:#FBFBFF;'>took</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>"</span> <span style='color:#565857;'><i># 1,605 microsecs</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>vector</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:timer</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>tc</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>reduce</span> <span style='color:#FBFBFF;'>vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>count</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>count</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Vector</span> <span style='color:#FBFBFF;'>traversal</span> <span style='color:#FBFBFF;'>took</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>"</span> <span style='color:#565857;'><i># 13,372 microsecs</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>access</span> <span style='color:#FBFBFF;'>speed</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:timer</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>tc</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>at</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>List</span> <span style='color:#FBFBFF;'>access</span> <span style='color:#FBFBFF;'>took</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>"</span> <span style='color:#565857;'><i># 997 microsecs</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>duplicate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>vector</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:timer</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>tc</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#D7B884;'>Vector.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>vector</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Vector</span> <span style='color:#FBFBFF;'>access</span> <span style='color:#FBFBFF;'>took</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>microsecs</span><span style='color:#FBFBFF;'>"</span> <span style='color:#565857;'><i># 3 microsecs</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> </code></pre><br></file>