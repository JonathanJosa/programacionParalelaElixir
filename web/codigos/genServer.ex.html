<style> pre{background-color: #292F36;} </style><file name='genServer.ex'ubicacion='media/searchCode/P1/genServer.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>GenEvent</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>A</span> <span style='color:#FBFBFF;'>behaviour</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>implementing</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handling</span> <span style='color:#FBFBFF;'>functionality</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handling</span> <span style='color:#FBFBFF;'>model</span> <span style='color:#FBFBFF;'>consists</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>generic</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>arbitrary</span> <span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>are</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>added</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>deleted</span> <span style='color:#FBFBFF;'>dynamically</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>An</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>implemented</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>have</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>standard</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>set</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>interface</span> <span style='color:#FBFBFF;'>functions</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>include</span> <span style='color:#FBFBFF;'>functionality</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>tracing</span> <span style='color:#FBFBFF;'>and</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>reporting</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#FBFBFF;'>fit</span> <span style='color:#FBFBFF;'>into</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>supervision</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Example</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>There</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>many</span> <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>cases</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>For</span> <span style='color:#FBFBFF;'>example</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>logging</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>system</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>built</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>where</span> <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>log</span> <span style='color:#FBFBFF;'>message</span> <span style='color:#FBFBFF;'>is</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>different</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>plugged</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>handle</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>log</span> <span style='color:#FBFBFF;'>messages</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>One</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>may</span> <span style='color:#FBFBFF;'>print</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>messages</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>terminal</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>another</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>write</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>file</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>while</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>third</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>keep</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>messages</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>memory</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>like</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>buffer</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>until</span> <span style='color:#FBFBFF;'>they</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>read</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>As</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>example</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>let</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>have</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>accumulates</span> <span style='color:#FBFBFF;'>messages</span> <span style='color:#FBFBFF;'>until</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>they</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>collected</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>explicit</span> <span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>LoggerHandler</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>GenEvent</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>         <span style='color:#565857;'><i># Callbacks</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>handle</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>event</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>{</span><span style='color:#EAC435;'>:log</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>x</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>messages</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>x</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>messages</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>handle</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>call</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:messages</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>messages</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reverse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>messages</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>LoggerHandler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i>#</i></span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:log</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i>#</i></span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:log</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i>#</i></span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>LoggerHandler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:messages</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i>#</i></span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>LoggerHandler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:messages</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i>#</i></span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>We</span> <span style='color:#FBFBFF;'>start</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Notifications</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>sent</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>then</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>invoke</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>registered</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>We</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>add</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Calls</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>made</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>specific</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Callbacks</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>There</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>6</span> <span style='color:#FBFBFF;'>callbacks</span> <span style='color:#FBFBFF;'>required</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>implemented</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>By</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>adding</span> <span style='color:#FBFBFF;'>`</span><span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>your</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Elixir</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>automatically</span> <span style='color:#FBFBFF;'>define</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>6</span> <span style='color:#FBFBFF;'>callbacks</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>you</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>leaving</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>up</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>implement</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>ones</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>want</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>customize</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>callbacks</span> <span style='color:#FBFBFF;'>are:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>invoked</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>added</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>must</span> <span style='color:#FBFBFF;'>return:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>invoked</span> <span style='color:#FBFBFF;'>whenever</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>sent</span> <span style='color:#FBFBFF;'>via</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>ack</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>sync</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>must</span> <span style='color:#FBFBFF;'>return:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>invoked</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>done</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>specific</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>must</span> <span style='color:#FBFBFF;'>return:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>invoked</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>handle</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>other</span> <span style='color:#FBFBFF;'>messages</span> <span style='color:#FBFBFF;'>which</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>received</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Must</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>same</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>as</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>called</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>removed</span> <span style='color:#FBFBFF;'>or</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>terminating</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>any</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>of:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>terminating</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>monitored</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>terminated</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>monitored</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>being</span> <span style='color:#FBFBFF;'>removed</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>crashed</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>returned</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>bad</span> <span style='color:#FBFBFF;'>value</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>any</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>passed</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>functions</span> <span style='color:#FBFBFF;'>like</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>change</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>old</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>vsn</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>extra</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>called</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>application</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>code</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>being</span> <span style='color:#FBFBFF;'>upgraded</span> <span style='color:#FBFBFF;'>live</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>hot</span> <span style='color:#FBFBFF;'>code</span> <span style='color:#FBFBFF;'>swapping</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>must</span> <span style='color:#FBFBFF;'>return:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>-</span>  <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Name Registration</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>A</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>bound</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>same</span> <span style='color:#FBFBFF;'>name</span> <span style='color:#FBFBFF;'>registration</span> <span style='color:#FBFBFF;'>rules</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenServer</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Read</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>about</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenServer</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>docs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Modes</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>stream</span> <span style='color:#FBFBFF;'>supports</span> <span style='color:#FBFBFF;'>three</span> <span style='color:#FBFBFF;'>different</span> <span style='color:#FBFBFF;'>notifications</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>On</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>ack</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>acknowledges</span> <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>providing</span> <span style='color:#FBFBFF;'>back</span> <span style='color:#FBFBFF;'>pressure</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>but</span> <span style='color:#FBFBFF;'>processing</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>message</span> <span style='color:#FBFBFF;'>happens</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>asynchronously</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>On</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>sync</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>acknowledges</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>just</span> <span style='color:#FBFBFF;'>after</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>was</span> <span style='color:#FBFBFF;'>processed</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>On</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>events</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>processed</span> <span style='color:#FBFBFF;'>asynchronously</span> <span style='color:#FBFBFF;'>and</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>there</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>no</span> <span style='color:#FBFBFF;'>ack</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>means</span> <span style='color:#FBFBFF;'>there</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>no</span> <span style='color:#FBFBFF;'>backpressure</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Streaming</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>messages</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>streamed</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>help</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>stream</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Here</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>some</span> <span style='color:#FBFBFF;'>examples:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>stream</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>stream</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i># Discard the next 10 events</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>drop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>stream</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>10</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i># Print all remaining events</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>stream</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>event</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Learn more and compatibility</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>wish</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>find</span> <span style='color:#FBFBFF;'>out</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>about</span> <span style='color:#FBFBFF;'>gen</span> <span style='color:#FBFBFF;'>events</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Elixir</span> <span style='color:#FBFBFF;'>getting</span> <span style='color:#FBFBFF;'>started</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>guides</span> <span style='color:#FBFBFF;'>provide</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>tutorial</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>like</span> <span style='color:#FBFBFF;'>introduction</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>documentation</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>links</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>Erlang</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#FBFBFF;'>provide</span> <span style='color:#FBFBFF;'>extra</span> <span style='color:#FBFBFF;'>insight</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>http:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>elixir</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>lang</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>org</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>getting</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>started</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>mix</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>otp</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>html</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>http:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>www</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>erlang</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>org</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>doc</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>man</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>gen</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>html</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>http:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>learnyousomeerlang</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>com</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>event</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>handlers</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Keep</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>mind</span> <span style='color:#FBFBFF;'>though</span> <span style='color:#FBFBFF;'>Elixir</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>Erlang</span> <span style='color:#FBFBFF;'>gen</span> <span style='color:#FBFBFF;'>events</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>100</span><span style='color:#FBFBFF;'>%</span> <span style='color:#FBFBFF;'>compatible</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sup</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>supported</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>Elixir</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>turn</span> <span style='color:#FBFBFF;'>supports</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>benefits</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>monitoring</span> <span style='color:#FBFBFF;'>approach</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>described</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Don</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>drink</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>too</span> <span style='color:#FBFBFF;'>much</span> <span style='color:#FBFBFF;'>kool</span> <span style='color:#FBFBFF;'>aid</span><span style='color:#FBFBFF;'>"</span> <span style='color:#FBFBFF;'>section</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Learn</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>some</span> <span style='color:#FBFBFF;'>Erlang</span><span style='color:#FBFBFF;'>"</span> <span style='color:#FBFBFF;'>link</span> <span style='color:#FBFBFF;'>above</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Due</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>those</span> <span style='color:#FBFBFF;'>changes</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Elixir</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>does</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>trap</span> <span style='color:#FBFBFF;'>exits</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>default</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Futhermore</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Elixir</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#FBFBFF;'>normalizes</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>tuples</span> <span style='color:#FBFBFF;'>returned</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>many</span> <span style='color:#FBFBFF;'>functions</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>order</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>consistent</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>themselves</span> <span style='color:#FBFBFF;'>and</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenServer</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@typedoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Return</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>functions</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>start</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:already</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>started</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@typedoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>name</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>atom</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:global</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:via</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@typedoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Options</span> <span style='color:#FBFBFF;'>used</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>functions</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name:</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@typedoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>reference</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>pid</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>name</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>node</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@typedoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Supported</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@type</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>atom</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reference</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defmacro</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>using</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>quote</span> <span style='color:#FBFBFF;'>location:</span> <span style='color:#EAC435;'><i>:keep</i></span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@behaviour</span> <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>init</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>handle</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>event</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>event</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>state</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>handle</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>call</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>msg</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>state</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#565857;'><i># We do this to trick dialyzer to not complain about non-local returns.</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:random</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>uniform</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:bad</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>2</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>handle</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>info</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>msg</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>state</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>terminate</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>reason</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>state</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>code</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>change</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>old</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>state</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>extra</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>defoverridable</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>init:</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event:</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call:</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>                       <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info:</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>terminate:</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>change:</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Starts</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>linked</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>current</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>This</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>often</span> <span style='color:#FBFBFF;'>used</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>start</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>part</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>supervision</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>It</span> <span style='color:#FBFBFF;'>accepts</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:name</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>option</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>described</span> <span style='color:#FBFBFF;'>under</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>Name</span> <span style='color:#FBFBFF;'>Registration</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>section</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenServer</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>docs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>successfully</span> <span style='color:#FBFBFF;'>created</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>initialized</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>function</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>where</span> <span style='color:#FBFBFF;'>pid</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>pid</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>there</span> <span style='color:#FBFBFF;'>already</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>exists</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>specified</span> <span style='color:#FBFBFF;'>server</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:already</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>started</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>pid</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Note</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>started</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>linked</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>parent</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>exit</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>only</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>crashes</span> <span style='color:#FBFBFF;'>but</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>parent</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>exits</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>start</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>start</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>link</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:link</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Starts</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>without</span> <span style='color:#FBFBFF;'>links</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>outside</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>supervision</span> <span style='color:#FBFBFF;'>tree</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>See</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>link</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>information</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>start</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>start</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:nolink</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>callback</span> <span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>no</span> <span style='color:#FBFBFF;'>callback</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:name</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>callback</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>atom</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:local</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>callback</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>other</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tuple</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>start</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>callback</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Returns</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>stream</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>consumes</span> <span style='color:#FBFBFF;'>events</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>stream</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>GenEvent</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>struct</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>implements</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>Enumerable</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>protocol</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Consumption</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>events</span> <span style='color:#FBFBFF;'>only</span> <span style='color:#FBFBFF;'>begins</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>enumeration</span> <span style='color:#FBFBFF;'>starts</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Note</span> <span style='color:#FBFBFF;'>streaming</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>specific</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>Elixir</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>does</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>work</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>Erlang</span> <span style='color:#FBFBFF;'>ones</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Options</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>raises</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>no</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>arrives</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>X</span> <span style='color:#FBFBFF;'>milliseconds</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>defaults</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:infinity</i></span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>stream</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>GenEvent.</span><span style='color:#D7B884;'>Stream.</span><span style='color:#FBFBFF;'>t</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>stream</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>%</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>Stream</span><span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>manager:</span> <span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>timeout:</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:infinity</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Adds</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>callback</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>initiate</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>its</span> <span style='color:#FBFBFF;'>internal</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>correct</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>indicating</span> <span style='color:#FBFBFF;'>successful</span> <span style='color:#FBFBFF;'>completion</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>adds</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>callback</span> <span style='color:#FBFBFF;'>fails</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>ignored</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>was</span> <span style='color:#FBFBFF;'>previously</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>at</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>this</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:already</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>present</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>add</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>handler</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:add</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Adds</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>monitored</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Expects</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>same</span> <span style='color:#FBFBFF;'>input</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>same</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Monitored handlers</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>A</span> <span style='color:#FBFBFF;'>monitored</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>implies</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>now</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>monitored</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>later</span> <span style='color:#FBFBFF;'>terminates</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>delete</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>callback</span> <span style='color:#FBFBFF;'>with</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>argument</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>later</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>deleted</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>sends</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>message</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>EXIT</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Reason</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>following:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>has</span> <span style='color:#FBFBFF;'>been</span> <span style='color:#FBFBFF;'>removed</span> <span style='color:#FBFBFF;'>due</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>to</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>has</span> <span style='color:#FBFBFF;'>been</span> <span style='color:#FBFBFF;'>returned</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>callback</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>function</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>has</span> <span style='color:#FBFBFF;'>been</span> <span style='color:#FBFBFF;'>removed</span> <span style='color:#FBFBFF;'>because</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>terminating</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swapped</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>-</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>pid</span> <span style='color:#FBFBFF;'>has</span> <span style='color:#FBFBFF;'>replaced</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>another</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#1098F7;'>-</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>removed</span> <span style='color:#FBFBFF;'>due</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Which</span> <span style='color:#FBFBFF;'>term</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>depends</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>error</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Keep</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>mind</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>EXIT</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>message</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>not</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>guaranteed</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>delivered</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>crashes</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>want</span> <span style='color:#FBFBFF;'>to</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>guarantee</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>message</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>delivered</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>have</span> <span style='color:#FBFBFF;'>two</span> <span style='color:#FBFBFF;'>options:</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>monitor</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>link</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>then</span> <span style='color:#FBFBFF;'>set</span> <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>flag</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:trap</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>your</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>callback</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Finally</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>functionality</span> <span style='color:#FBFBFF;'>only</span> <span style='color:#FBFBFF;'>works</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>started</span> <span style='color:#FBFBFF;'>via</span> <span style='color:#FBFBFF;'>this</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>backwards</span> <span style='color:#FBFBFF;'>compatible</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>Erlang</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>add</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>mon</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>handler</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:add</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Sends</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>notification</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>each</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>asynchronous</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>immediately</span> <span style='color:#FBFBFF;'>after</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>notification</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>sent</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>fail</span> <span style='color:#FBFBFF;'>even</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>specified</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>does</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>exist</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>unless</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>specified</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>notify</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>event</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>notify</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>{</span><span style='color:#EAC435;'>:global</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>name</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>msg</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:global</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>send</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:notify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>notify</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>{</span><span style='color:#EAC435;'>:via</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>mod</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>name</span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>msg</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>send</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:notify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>notify</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>other</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>msg</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>send</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:notify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Sends</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>sync</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>notification</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>In</span> <span style='color:#FBFBFF;'>other</span> <span style='color:#FBFBFF;'>words</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>only</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>after</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>invokes</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>See</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>sync</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>sync</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>notify</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>event</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:sync</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Sends</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>ack</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>notification</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>In</span> <span style='color:#FBFBFF;'>other</span> <span style='color:#FBFBFF;'>words</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>only</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>soon</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>starts</span> <span style='color:#FBFBFF;'>processing</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>but</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>does</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>wait</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>sent</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>See</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Note</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>specific</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>Elixir</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>GenEvent</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>does</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>work</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>Erlang</span> <span style='color:#FBFBFF;'>ones</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>ack</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>ack</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>notify</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>event</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ack</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Makes</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>synchronous</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>request</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>sent</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>caller</span> <span style='color:#FBFBFF;'>waits</span> <span style='color:#FBFBFF;'>until</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>reply</span> <span style='color:#FBFBFF;'>arrives</span> <span style='color:#FBFBFF;'>or</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>timeout</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>handle</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>request</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>defined</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>specified</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>installed</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:not</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>found</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span>  <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>call</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>request</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>timeout</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>5000</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:call</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>request</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:exit</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>MODULE</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:call</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>request</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>res</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>res</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Removes</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>terminate</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>callback</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>specified</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>not</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>installed</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:not</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>found</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>remove</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>handler</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:delete</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Replaces</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>old</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>First</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>old</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>deleted</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>with</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>collects</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>Then</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>added</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>initiated</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>where</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>calling</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>old</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>.</span> <span style='color:#FBFBFF;'>This</span> <span style='color:#FBFBFF;'>makes</span> <span style='color:#FBFBFF;'>it</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>possible</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>transfer</span> <span style='color:#FBFBFF;'>information</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>another</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>The</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>added</span> <span style='color:#FBFBFF;'>even</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>specified</span> <span style='color:#FBFBFF;'>old</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>fails</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>terminate</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>reason</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>second</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>correct</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>this</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>returns</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>swap</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>swap</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>handler</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler1</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args1</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler2</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args2</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swap</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Replaces</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>old</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>new</span> <span style='color:#FBFBFF;'>monitored</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Read</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>docs</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>swap</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>information</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>swap</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>swap</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>mon</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>handler</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler1</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args1</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handler2</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args2</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swap</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Returns</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>which</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>which</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>handlers</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:which</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Terminates</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Before</span> <span style='color:#FBFBFF;'>terminating</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>manager</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>stop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>stop</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>manager</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>manager</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>rpc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cmd</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># TODO</i></span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>Change</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>tag</span> <span style='color:#FBFBFF;'>once</span> <span style='color:#FBFBFF;'>patch</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>accepted</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>OTP</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cmd</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:infinity</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>reply</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Init callbacks</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>require</span> <span style='color:#FBFBFF;'>Record</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#D7B884;'>Record.</span><span style='color:#FBFBFF;'>defrecordp</span> <span style='color:#EAC435;'><i>:handler</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:module</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:state</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:pid</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ref</i></span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>init</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>it</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>starter</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#EAC435;'>:self</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>mod</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>it</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>starter</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>init</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>it</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>starter</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>parent</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>$</span><span style='color:#FBFBFF;'>initial</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>MODULE</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:init</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>it</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>6</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>debug</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#EAC435;'><i>:proc</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>lib</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>init</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ack</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>starter</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>init</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>hib</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>parent</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handlers</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>debug</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fetch</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:local</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>name</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:global</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>name</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:via</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>name</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>pid</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Loop</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#EAC435;'><i>:proc</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>lib</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>hibernate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>MODULE</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:init</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fetch</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>fetch</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>receive</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:system</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>req</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:sys</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>system</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>req</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>MODULE</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:EXIT</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>^</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>msg</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>debug</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>debug</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:sys</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>print</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:in</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:notify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:async</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:notify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:async</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ack</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:ack</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:sync</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:sync</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:DOWN</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:process</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>other</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>down</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#EAC435;'><i>:error</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:call</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:add</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:add</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:add</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:delete</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swap</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>swap</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swap</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>swap</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#EAC435;'><i>:exit</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:normal</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:which</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>which</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:get</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>other</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># System callbacks</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>system</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>continue</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>parent</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>debug</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handlers</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>hib</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>loop</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>system</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>terminate</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>reason</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>parent</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>debug</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handlers</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>hib</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>system</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>code</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>change</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handlers</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>hib</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>module</span><span style='color:#03DDB2;'> </span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>old</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>vsn</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>extra</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:module</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>change</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>old</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>vsn</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:state</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>extra</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>system</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>get</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>state</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handlers</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>hib</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>tuples</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tuples</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>system</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>replace</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>state</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>fun</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>handlers</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>hib</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>states</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unzip</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>cur</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>new</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>^</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>^</span><span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>cur</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cur</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>states</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>format</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>status</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>opt</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>status</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>data</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>pdict</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>sys</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>debug</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>data</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>header</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>format</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>header</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>Status</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>formatted</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>function</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exported?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:format</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>format</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>opt</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>pdict</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>header:</span> <span style='color:#FBFBFF;'>header</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>data:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>Status</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>sys</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>Parent</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>items:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>Installed</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>formatted</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Loop helpers</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>print</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>dev</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:in</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:notify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>dev</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>DBG</span><span style='color:#FBFBFF;'>*</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>got</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:call</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>dev</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>DBG</span><span style='color:#FBFBFF;'>*</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>got</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>dev</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>DBG</span><span style='color:#FBFBFF;'>*</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>got</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>print</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>dev</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>dbg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>dev</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>DBG</span><span style='color:#FBFBFF;'>*</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>}</span><span style='color:#1098F7;'>:</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>inspect</span> <span style='color:#FBFBFF;'>dbg</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>ref</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>monitor</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid:</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref:</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>ref</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>monitor</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid:</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref:</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>ref</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>monitor</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>Stream</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>                       <span style='color:#FBFBFF;'>pid:</span> <span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref:</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>GenEvent.</span><span style='color:#FBFBFF;'>Stream</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>take</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>swap</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>sup</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>take</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:swapped</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swapped</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>module2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>sup</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>sup</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mon</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>sup</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>args2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>reverse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:handle</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>split</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:handle</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>split</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>split</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>split</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>split</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>streams</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>send</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:ack</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>   <span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:ack</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:sync</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:sync</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:async</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:notify</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:error</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>notify</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>res</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>res</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#EAC435;'><i>:error</i></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>other</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>reason</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:bad</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#EAC435;'><i>:error</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:error</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:async</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:async</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>mode</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:sync</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ack</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ref:</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>receive</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>^</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:delete</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>^</span><span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tag</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:DOWN</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>^</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:DOWN</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>collect</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handlers</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keyfind</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:not</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>found</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>hib</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keyreplace</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keydelete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>update</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:handle</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>call</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>res</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>res</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:remove</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>other</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>reason</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:bad</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>query</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>modules</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#B80C09;'>|></span> <span style='color:#EAC435;'><i>:ordsets</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#B80C09;'>|></span> <span style='color:#EAC435;'><i>:ordsets</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>which</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>id:</span> <span style='color:#FBFBFF;'>id</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>id</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>server</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>parent</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>handlers</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>reply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>send</span> <span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>handle</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>down</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keyfind</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:ref</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#EAC435;'><i>:error</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>handler</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:stop</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:DOWN</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keydelete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:ref</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>add</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>succ</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keyfind</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:init</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>arg</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>res</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>res</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>succ</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>succ</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>other</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:bad</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>other</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:already</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>present</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>take</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:lists</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>keytake</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:value</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:not</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>found</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handlers</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state:</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>res</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:terminate</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>arg</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>res</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>res</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>error</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>res</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>apply</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:throw</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>System.</span><span style='color:#FBFBFF;'>stacktrace</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:exit</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span>  <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>res</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>res</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>terminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>ref</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:ref</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>demonitor</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ref</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:flush</i></span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>pid</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:pid</i></span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>send</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:gen</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>EXIT</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:normal</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:swapped</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>reason</span> <span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:undef</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>m</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>f</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>]</span><span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>mfas</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>cond</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#EAC435;'><i>:code</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>loaded</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>m</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>{</span><span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>could</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>loaded</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mfas</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>function</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exported?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>m</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>f</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>reason</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>{</span><span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>function</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>exported</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>mfas</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>reason</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>formatted</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>logger</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>msg</span><span style='color:#FBFBFF;'>(</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>gen</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>p</span> <span style='color:#FBFBFF;'>crashed</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>Was</span> <span style='color:#FBFBFF;'>installed</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>p</span><span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>Last</span> <span style='color:#FBFBFF;'>event</span> <span style='color:#FBFBFF;'>was:</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>p</span><span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>When</span> <span style='color:#FBFBFF;'>handler</span> <span style='color:#FBFBFF;'>state</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>p</span><span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>Reason</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>p</span><span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:id</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>last</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>in</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>formatted</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>report</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>handler</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module:</span> <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>function</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exported?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:format</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>module</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>format</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>status</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:terminate</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>state</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>catch</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>state</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>state</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> </code></pre><br></file>