<style> pre{background-color: #292F36;} </style><file name='sudoku-solver-norvig.ex'ubicacion='media/shared/partner1/sudoku-solver-norvig.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>SudokuSolver</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Solves</span> <span style='color:#FBFBFF;'>9</span><span style='color:#FBFBFF;'>x9</span> <span style='color:#FBFBFF;'>Sudoku</span> <span style='color:#FBFBFF;'>puzzles</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Peter</span> <span style='color:#FBFBFF;'>Norvig</span> <span style='color:#FBFBFF;'>style</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>http:</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>norvig</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>com</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>sudoku</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>html</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@size</span> <span style='color:#FBFBFF;'>9</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@rows</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>ABCDEFGHI</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@cols</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>123456789</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>import</span> <span style='color:#FBFBFF;'>Enum</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># used to cache all squares, units, and peer relationships</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Board</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defstruct</span> <span style='color:#FBFBFF;'>squares:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>units:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>peers:</span> <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>cross</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>list</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>a</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>list</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>b</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>b</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Return</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>squares</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>cross</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@rows,</span> <span style='color:#C73E1D;'>@cols)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>All</span> <span style='color:#FBFBFF;'>squares</span> <span style='color:#FBFBFF;'>divided</span> <span style='color:#FBFBFF;'>by</span> <span style='color:#FBFBFF;'>row</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>column</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>box</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unit</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>c</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#C73E1D;'>@cols,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>cross</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@rows,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>c</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>r</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#C73E1D;'>@rows,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>cross</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>r</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@cols))</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>rs</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>chunk</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>every</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@rows,</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cs</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>chunk</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>every</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@cols,</span> <span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>cross</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>rs</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cs</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>All</span> <span style='color:#FBFBFF;'>squares</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>unit</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>organized</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>Map</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>each</span> <span style='color:#FBFBFF;'>square</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>SudokuSolver.</span><span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>D2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>E2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>F2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>G2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>H2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>I2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C4</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C5</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C6</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C7</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C8</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C9</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>units</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>ul</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>unit</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>u</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>ul</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>u</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>u</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Like</span> <span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>0</span> <span style='color:#FBFBFF;'>above</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>returning</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>Map</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>but</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>including</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>key</span> <span style='color:#FBFBFF;'>itself</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>SudokuSolver.</span><span style='color:#FBFBFF;'>peers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>D2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>E2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>F2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>G2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>H2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>I2</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>                   <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C4</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C5</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C6</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C7</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C8</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>C9</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>                   <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>A3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>B3</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>peers</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>squares</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>cross</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@rows,</span> <span style='color:#C73E1D;'>@cols)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>u</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>squares</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>all</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>u</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>concat</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>me</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>]</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>difference</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>all</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>me</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Convert</span> <span style='color:#FBFBFF;'>grid</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>Map</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>possible</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>square:</span> <span style='color:#FBFBFF;'>digits</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>or</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>return</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>contradiction</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>detected</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>parse</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>grid</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>grid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>board</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># To start, every square can be any digit</i></span><span style='color:#FBFBFF;'>;</span> <span style='color:#FBFBFF;'>then</span> <span style='color:#FBFBFF;'>assign</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@cols</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>rest</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>rest</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>'</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>values</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assign</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#1098F7;'>do</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>values</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Convert</span> <span style='color:#FBFBFF;'>grid</span> <span style='color:#FBFBFF;'>into</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>Map</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>square:</span> <span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>'</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>'</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>empties</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>grid</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>values</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>grid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>chars</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>c</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>c</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#C73E1D;'>@cols</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>c</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>c</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>unless</span> <span style='color:#FBFBFF;'>count</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>chars</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>81</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>raise</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>zip</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>chars</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Eliminate</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>other</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>except</span> <span style='color:#FBFBFF;'>d</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>propagate</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Return</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>except</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>contradiction</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>detected</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>assign</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>values</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>s</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>d</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>board</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>d</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>p</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>peers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>eliminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>p</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>d</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Eliminate</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>squares</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>propagate</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>eliminate</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>values</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>squares</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>vals</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>to</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>remove</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>board</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>_</span><span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>truthy</span> <span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>eliminate</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># Remove value</i></span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>then:</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># </i></span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>square</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>reduced</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>then</span> <span style='color:#FBFBFF;'>eliminate</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>peers</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># </i></span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>If</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>unit</span> <span style='color:#FBFBFF;'>u</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>reduced</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>only</span> <span style='color:#FBFBFF;'>one</span> <span style='color:#FBFBFF;'>place</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>d</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>then</span> <span style='color:#FBFBFF;'>put</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>there</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>eliminate</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>vals</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>intersection</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>into</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>any?</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>vals</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>reduce</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>delete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>0</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#565857;'><i># contradiction, removed last value</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#565857;'><i># eliminate value</i></span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>peers</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>eliminate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>MapSet.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>peers</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>values</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#565857;'><i># eliminate value</i></span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>units</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>eliminate</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>values</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># If a unit u is reduced to only one place for a value d, then put it there.</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>eliminate</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>_</span><span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>truthy</span> <span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>unit</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>_</span><span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>truthy</span> <span style='color:#FBFBFF;'>vals</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>remove</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>dplaces</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>unit</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>s</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>length</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>dplaces</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>0</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>false</i></span>                                      <span style='color:#565857;'><i># contradiction</i></span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>no</span> <span style='color:#FBFBFF;'>place</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>value</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>assign</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>at</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>dplaces</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>val</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span> <span style='color:#565857;'><i># d can only be in one place in unit</i></span><span style='color:#FBFBFF;'>;</span> <span style='color:#FBFBFF;'>assign</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>there</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>values</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># Similar to Enum.reduce/3 except it won</i></span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>continue</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>call</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>work</span> <span style='color:#FBFBFF;'>function</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i># if the accumulator becomes false or nil.</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>reduce</span><span style='color:#FBFBFF;'>_</span><span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>truthy</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>coll</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>reduce</span> <span style='color:#FBFBFF;'>coll</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>i</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>a</span> <span style='color:#EE7B30;'>&&</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>i</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Given</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>puzzle</span> <span style='color:#FBFBFF;'>char</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>find</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>solution</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>char</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Use</span> <span style='color:#FBFBFF;'>display</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>1</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>print</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>grid</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>solve</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>grid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>board</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>Board</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>squares:</span> <span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>units:</span> <span style='color:#FBFBFF;'>units</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>peers:</span> <span style='color:#FBFBFF;'>peers</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>grid</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>search</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>flatten</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Flatten</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>Map</span> <span style='color:#FBFBFF;'>back</span> <span style='color:#FBFBFF;'>into</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>single</span> <span style='color:#FBFBFF;'>char</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>flatten</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>values</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>board</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>squares</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>concat</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Using</span> <span style='color:#FBFBFF;'>depth</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>first</span> <span style='color:#FBFBFF;'>search</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>propagation</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>try</span> <span style='color:#FBFBFF;'>all</span> <span style='color:#FBFBFF;'>possible</span> <span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>search</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>false</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>search</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>values</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>board</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>all?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>s</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>count</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>s</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>values</span> <span style='color:#565857;'><i># solved</i></span><span style='color:#1098F7;'>!</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#565857;'><i># Chose the unfilled square s with the fewest possibilities</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>count</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>squares</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>count</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>filter</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>c</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>c</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>1</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>sort</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>c1</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>c2</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>c1</span> <span style='color:#1098F7;'><</span> <span style='color:#FBFBFF;'>c2</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>List.</span><span style='color:#FBFBFF;'>first</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>find</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>value</span> <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>d</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>assign</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>values</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>square</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>d</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>search</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>board</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Display</span> <span style='color:#FBFBFF;'>these</span> <span style='color:#FBFBFF;'>values</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>2</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>D</span> <span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>display</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>grid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>chunk</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>every</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>,</span> <span style='color:#C73E1D;'>@size)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>row</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>chunk</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>every</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>row</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>start</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>SudokuSolverTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>import</span> <span style='color:#FBFBFF;'>SudokuSolver</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>print</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>grid</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>solved</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>puzzle</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>display</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>solved</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>display</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>solved</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>solve</span> <span style='color:#FBFBFF;'>easy</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>grid1</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>6</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>9</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>18</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>64</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>81</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>29</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>7</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>8</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>67</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>82</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>26</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>95</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>8</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>9</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>solved</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>solve</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid1</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>solved</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>483921657967345821251876493548132976729564138136798245372689514814253769695417382</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>print</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>solved</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>solve</span> <span style='color:#FBFBFF;'>hard</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>grid2</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>4</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>8</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>7</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>6</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>8</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>4</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>6</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>7</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>5</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>4</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>solved</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>solve</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid2</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>solved</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>417369825632158947958724316825437169791586432346912758289643571573291684164875293</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>print</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>grid2</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>solved</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> </code></pre><br></file>