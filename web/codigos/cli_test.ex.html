<style> pre{background-color: #292F36;} </style><file name='cli_test.ex'ubicacion='media/searchCode/P1/cli_test.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#D7B884;'>Code.</span><span style='color:#FBFBFF;'>require</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>file</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>test</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>helper</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>DIR</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>import</span> <span style='color:#FBFBFF;'>PathHelpers</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Kernel.</span><span style='color:#9A8BBB;'>CLI.</span><span style='color:#9A8BBB;'>ARGVTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>async:</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>import</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>CaptureIO</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>run</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>argv</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>config</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>argv</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>CLI.</span><span style='color:#FBFBFF;'>parse</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>argv</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>argv</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>CLI.</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>commands</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>config</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>argv</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>argv</span> <span style='color:#FBFBFF;'>handling</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>run</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>              <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>ok</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>run</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>              <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>ok</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>run</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>hidden</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>              <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>ok</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>run</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>hidden</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>              <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>hidden</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>ok</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Kernel.</span><span style='color:#9A8BBB;'>CLI.</span><span style='color:#9A8BBB;'>OptionParsingTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>async:</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>properly</span> <span style='color:#FBFBFF;'>parses</span> <span style='color:#FBFBFF;'>paths</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>root</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>elixir</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>pa</span> <span style='color:#FBFBFF;'>"</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>pz</span> <span style='color:#FBFBFF;'>"</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>lib</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>inspect</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:code</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>limit:</span> <span style='color:#EAC435;'><i>:infinity</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Code.</span><span style='color:#FBFBFF;'>eval</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>string</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># pa</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>expand</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>ebin</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>path</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>expand</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>lib</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>path</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>expand</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>src</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>path</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i># pz</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Path.</span><span style='color:#FBFBFF;'>expand</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>lib</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>root</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>path</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Kernel.</span><span style='color:#9A8BBB;'>CLI.</span><span style='color:#9A8BBB;'>AtExitTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>async:</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>invokes</span> <span style='color:#FBFBFF;'>at</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span> <span style='color:#FBFBFF;'>callbacks</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>elixir</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>at</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>exs</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>            <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>goodbye</span> <span style='color:#FBFBFF;'>cruel</span> <span style='color:#FBFBFF;'>world</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>status</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Kernel.</span><span style='color:#9A8BBB;'>CLI.</span><span style='color:#9A8BBB;'>ErrorTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>async:</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>properly</span> <span style='color:#FBFBFF;'>format</span> <span style='color:#FBFBFF;'>errors</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#EAC435;'><i>:string</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>str</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>throw</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>elixir</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>throw</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>0</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#EAC435;'><i>:string</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>str</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>*</span><span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>ErlangError</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>erlang</span> <span style='color:#FBFBFF;'>error:</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>elixir</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>0</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>elixir</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>e</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>IO.</span><span style='color:#FBFBFF;'>puts</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Process.</span><span style='color:#FBFBFF;'>flag</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:trap</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>;</span> <span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>'</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Kernel.</span><span style='color:#9A8BBB;'>CLI.</span><span style='color:#9A8BBB;'>CompileTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>async:</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compiles</span> <span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixture</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>elixirc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>regular?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>Elixir.</span><span style='color:#D7B884;'>CompileSample.</span><span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>after</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>rm</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>Elixir.</span><span style='color:#D7B884;'>CompileSample.</span><span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compiles</span> <span style='color:#FBFBFF;'>code</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>verbose</span> <span style='color:#FBFBFF;'>mode</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixture</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>elixirc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>verbose</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>Compiled</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>'</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>regular?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>Elixir.</span><span style='color:#D7B884;'>CompileSample.</span><span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>after</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>rm</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>Elixir.</span><span style='color:#D7B884;'>CompileSample.</span><span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>fails</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>missing</span> <span style='color:#FBFBFF;'>patterns</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixture</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>output</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>elixirc</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>'</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>non</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>existing</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span> <span style='color:#1098F7;'>-</span><span style='color:#FBFBFF;'>o</span> <span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#EAC435;'><i>:string</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>str</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>non</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>existing</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>expected</span> <span style='color:#FBFBFF;'>non</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>existing</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>mentionned</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#EAC435;'><i>:string</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>str</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>output</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>expected</span> <span style='color:#FBFBFF;'>compile</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>mentionned</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>refute</span> <span style='color:#D7B884;'>File.</span><span style='color:#FBFBFF;'>exists?</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tmp</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#D7B884;'>Elixir.</span><span style='color:#D7B884;'>CompileSample.</span><span style='color:#FBFBFF;'>beam</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>expected</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>sample</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>compiled</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Kernel.</span><span style='color:#9A8BBB;'>CLI.</span><span style='color:#9A8BBB;'>ParallelCompilerTest</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>Case</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>import</span> <span style='color:#D7B884;'>ExUnit.</span><span style='color:#FBFBFF;'>CaptureIO</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compiles</span> <span style='color:#FBFBFF;'>files</span> <span style='color:#FBFBFF;'>solving</span> <span style='color:#FBFBFF;'>dependencies</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixtures</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>bar</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>Bar</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Foo</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>ParallelCompiler.</span><span style='color:#FBFBFF;'>files</span> <span style='color:#FBFBFF;'>fixtures</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>~</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>message</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>from</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>after</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>Foo</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Bar</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:code</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>purge</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:code</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>delete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>compiles</span> <span style='color:#FBFBFF;'>files</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>structs</span> <span style='color:#FBFBFF;'>solving</span> <span style='color:#FBFBFF;'>dependencies</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixtures</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>struct</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>bar</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>struct</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>Bar</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Foo</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>ParallelCompiler.</span><span style='color:#FBFBFF;'>files</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>fixtures</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>sort</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>after</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>Foo</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Bar</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>mod</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:code</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>purge</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:code</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>delete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>does</span> <span style='color:#FBFBFF;'>not</span> <span style='color:#FBFBFF;'>hang</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>missing</span> <span style='color:#FBFBFF;'>dependencies</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixtures</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>bat</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>catch</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>ParallelCompiler.</span><span style='color:#FBFBFF;'>files</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>fixtures</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>~</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Compilation</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>handles</span> <span style='color:#FBFBFF;'>possible</span> <span style='color:#FBFBFF;'>deadlocks</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixtures</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>deadlock</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>deadlock</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>bar</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>catch</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>ParallelCompiler.</span><span style='color:#FBFBFF;'>files</span> <span style='color:#FBFBFF;'>fixtures</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>~</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>r</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>Compilation</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>file</span> <span style='color:#FBFBFF;'>.</span><span style='color:#1098F7;'>+</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>deadlock</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>foo</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>msg</span> <span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>~</span> <span style='color:#FBFBFF;'>~</span><span style='color:#FBFBFF;'>r</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>Compilation</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>file</span> <span style='color:#FBFBFF;'>.</span><span style='color:#1098F7;'>+</span><span style='color:#FBFBFF;'>parallel</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>deadlock</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>bar</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>test</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>warnings</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>errors</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>warnings</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>as</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>errors</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Code.</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:warnings</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>as</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>errors</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>fixtures</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>fixture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>warnings</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sample</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ex</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>try</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Code.</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>warnings</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>as</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>errors:</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>capture</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>io</span> <span style='color:#EAC435;'><i>:stderr</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>assert</span> <span style='color:#FBFBFF;'>catch</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>exit</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Kernel.</span><span style='color:#D7B884;'>ParallelCompiler.</span><span style='color:#FBFBFF;'>files</span> <span style='color:#FBFBFF;'>fixtures</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:shutdown</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>after</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Code.</span><span style='color:#FBFBFF;'>compiler</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>warnings</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>as</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>errors:</span> <span style='color:#FBFBFF;'>warnings</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>as</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>errors</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> </code></pre><br></file>