<style> pre{background-color: #292F36;} </style><file name='socks.ex'ubicacion='media/shared/partner2/socks.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#                    Version 2, December 2004</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#  0. You just DO WHAT THE FUCK YOU WANT TO.</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Socket.</span><span style='color:#9A8BBB;'>SSL</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>This</span> <span style='color:#FBFBFF;'>module</span> <span style='color:#FBFBFF;'>allows</span> <span style='color:#FBFBFF;'>usage</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>sockets</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>promotion</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>TCP</span> <span style='color:#FBFBFF;'>sockets</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>SSL</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>sockets</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Options</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>When</span> <span style='color:#FBFBFF;'>creating</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>pass</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>series</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>it</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:cert</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>either</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>encoded</span> <span style='color:#FBFBFF;'>certificate</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>certificate</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>either</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>encoded</span> <span style='color:#FBFBFF;'>certificate</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>rsa:</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>rsa</span> <span style='color:#FBFBFF;'>encoded</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>dsa:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>dsa</span> <span style='color:#FBFBFF;'>encoded</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>ec:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>ec</span> <span style='color:#FBFBFF;'>encoded</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:authorities</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>iehter</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>encoded</span> <span style='color:#FBFBFF;'>authorities</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>authorities</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:dh</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>either</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>encoded</span> <span style='color:#FBFBFF;'>dh</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>dh</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>either</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>`</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>disable</span> <span style='color:#FBFBFF;'>peer</span> <span style='color:#FBFBFF;'>certificate</span> <span style='color:#FBFBFF;'>verification</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>keyword</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>containing</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:function</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>optional</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:data</i></span><span style='color:#FBFBFF;'>`</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:password</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>password</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>decrypt</span> <span style='color:#FBFBFF;'>certificates</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:renegotiation</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>it</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>s</span> <span style='color:#FBFBFF;'>set</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:secure</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>renegotiation</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>secured</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:ciphers</i></span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>ciphers</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>allow</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:advertised</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>strings</span> <span style='color:#FBFBFF;'>representing</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>advertised</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>protocols</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>NPN</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>*</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:preferred</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>strings</span> <span style='color:#FBFBFF;'>representing</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>preferred</span> <span style='color:#FBFBFF;'>next</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>protocols</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>NPN</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>You</span> <span style='color:#FBFBFF;'>can</span> <span style='color:#FBFBFF;'>also</span> <span style='color:#FBFBFF;'>pass</span> <span style='color:#FBFBFF;'>TCP</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Smart garbage collection</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Normally</span> <span style='color:#FBFBFF;'>sockets</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>Erlang</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>closed</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>controlling</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>exits</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>smart</span> <span style='color:#FBFBFF;'>garbage</span> <span style='color:#FBFBFF;'>collection</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>controlling</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>`</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Manager</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>closed</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>there</span> <span style='color:#FBFBFF;'>are</span> <span style='color:#FBFBFF;'>no</span> <span style='color:#FBFBFF;'>more</span> <span style='color:#FBFBFF;'>references</span> <span style='color:#FBFBFF;'>to</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>it</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>use</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Helpers</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>require</span> <span style='color:#FBFBFF;'>Record</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@opaque</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>port</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>supported</span> <span style='color:#FBFBFF;'>ciphers</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>ciphers</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>erl</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>cipher</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>suite</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>ciphers</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>cipher</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>suites</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>supported</span> <span style='color:#FBFBFF;'>SSL</span><span style='color:#FBFBFF;'>/</span><span style='color:#FBFBFF;'>TLS</span> <span style='color:#FBFBFF;'>versions</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>versions</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>tuple</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>versions</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>versions</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Return</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>proper</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>string</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>code</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>can</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>be</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>converted</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>error</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>code</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>format</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>code</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>Unexpected</span> <span style='color:#FBFBFF;'>error:</span><span style='color:#FBFBFF;'>'</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>message</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>message</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>string</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>tuple</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>address</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>address</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>tuple</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>or</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>descriptor</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>tuple</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>SSL</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Address.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Address.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>{</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>address</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>}</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>address</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>wrap</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>list</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>wrap</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>unless</span> <span style='color:#FBFBFF;'>wrap</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>wrap</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>port</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>wrap</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>timeout</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:infinity</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>delete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>wrap</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>address</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>integer</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>address</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>tuple</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>SSL</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Address.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Address.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>descriptor</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Address.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>connect</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>address</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>address</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>address</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>address</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>timeout</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:infinity</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>delete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>address</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Connect</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>address</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Address.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>connect</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>address</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>OS</span> <span style='color:#FBFBFF;'>chosen</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>local</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>know</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>was</span> <span style='color:#FBFBFF;'>bound</span> <span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>OS</span> <span style='color:#FBFBFF;'>chosen</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>use</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>local</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>know</span> <span style='color:#FBFBFF;'>the</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>was</span> <span style='color:#FBFBFF;'>bound</span> <span style='color:#FBFBFF;'>on</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>listen</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>OS</span> <span style='color:#FBFBFF;'>chosen</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>integer</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>OS</span> <span style='color:#FBFBFF;'>chosen</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>or</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>listen</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>port</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:mode</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:passive</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>put</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>new</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Create</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>port</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>raising</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#EAC435;'><i>:inet</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>listen</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Accept</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>start</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>on</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>client</span> <span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Accept</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>or</span> <span style='color:#FBFBFF;'>start</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>on</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>client</span> <span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Accept</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>start</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>client</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>timeout</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:infinity</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#B80C09;'>|></span> <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>transport</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>            <span style='color:#EAC435;'><i>:ok</i></span>             <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#1098F7;'>if</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:mode</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>=</span><span style='color:#1098F7;'>=</span> <span style='color:#EAC435;'><i>:active</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#B80C09;'>|></span> <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:active</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>            <span style='color:#EAC435;'><i>:ok</i></span>             <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>timeout:</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>accept</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>wrap</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>wrap</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>port</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>timeout</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:infinity</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>delete</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ssl</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>wrap</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Accept</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>from</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>listening</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>or</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>start</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connection</span> <span style='color:#FBFBFF;'>on</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>client</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>with</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>given</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Execute</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>;</span> <span style='color:#FBFBFF;'>useful</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>want</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>delay</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>handshake</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>make</span> <span style='color:#FBFBFF;'>it</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>another</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span>            <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>handshake</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'>\</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>timeout</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:timeout</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:infinity</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>ssl</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>accept</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>timeout</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Execute</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>;</span> <span style='color:#FBFBFF;'>useful</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>you</span> <span style='color:#FBFBFF;'>want</span> <span style='color:#FBFBFF;'>to</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>delay</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>handshake</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>make</span> <span style='color:#FBFBFF;'>it</span> <span style='color:#FBFBFF;'>in</span> <span style='color:#FBFBFF;'>another</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span>            <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>handshake</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Set</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>receive</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>messages</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:closed</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:not</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>owner</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Error.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>controlling</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Set</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>which</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>receive</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>messages</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>process</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>process</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>pid</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>process</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>pid</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:closed</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>raise</span> <span style='color:#FBFBFF;'>RuntimeError</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>message:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>socket</span> <span style='color:#FBFBFF;'>is</span> <span style='color:#FBFBFF;'>closed</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#EAC435;'><i>:not</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>owner</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>raise</span> <span style='color:#FBFBFF;'>RuntimeError</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>message:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>current</span> <span style='color:#FBFBFF;'>process</span> <span style='color:#FBFBFF;'>isn</span><span style='color:#FBFBFF;'>'</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>owner</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>code</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>raise</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Error</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason:</span> <span style='color:#FBFBFF;'>code</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Set</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>sslsocket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>Error.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>options</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>,</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Set</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>options</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>SSL.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>port</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Convert</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>`</span><span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>setopts</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>compatible</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>list</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>arguments</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>options</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>options</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>group</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>by</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:server</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>          <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:cert</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>                 <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>                  <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:authorities</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>          <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:sni</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>                  <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dh</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>                   <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>               <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:password</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>             <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:renegotiation</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>        <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ciphers</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>              <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:depth</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>                <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:identity</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>             <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:versions</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>             <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:alert</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>                <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ibernate</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>             <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:session</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>              <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:advertised</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:preferred</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span> <span style='color:#FBFBFF;'>}</span>  <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>_</span>                            <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#4ECDC4;'><i>false</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>local</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>global</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>{</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#D7B884;'>Map.</span><span style='color:#FBFBFF;'>get</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>Socket.</span><span style='color:#D7B884;'>TCP.</span><span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>global</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>+</span><span style='color:#1098F7;'>+</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>local</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:server</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:server</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>indication</span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:disable</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:server</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:server</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>indication</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:cert</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:certfile</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:cert</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cert</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:cert</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cert</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:keyfile</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>rsa:</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:RSAPrivateKey</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>dsa:</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:DSAPrivateKey</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>ec:</span> <span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ECPrivateKey</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:key</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:PrivateKeyInfo</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>key</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:authorities</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:cacertfile</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:authorities</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ca</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:cacerts</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ca</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dh</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>path:</span> <span style='color:#FBFBFF;'>path</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dhfile</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>path</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dh</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>dh</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:dh</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>dh</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:sni</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>sni</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>sni</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:hosts</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hosts</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:sni</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hosts</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>hosts</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>                 <span style='color:#FBFBFF;'>{</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>arguments</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>               <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:function</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:sni</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>none</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>function:</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>function:</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>data:</span> <span style='color:#FBFBFF;'>data</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:verify</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>fun</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>data</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:identity</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>identity</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>identity</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:psk</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:psk</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>identity</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:srp</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>second</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:srp</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>identity</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>first</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>second</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:password</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>password</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:password</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>charlist</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>password</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:renegotiation</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:secure</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:secure</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>renegotiate</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ciphers</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ciphers</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ciphers</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>ciphers</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:depth</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:depth</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>depth</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:versions</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>versions</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:versions</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>versions</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:alert</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:log</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>alert</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hibernate</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:hibernate</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>after</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>hibernate</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:session</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>session</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>flat</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>session</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sessions</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>true</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>sessions</span><span style='color:#FBFBFF;'>,</span> <span style='color:#4ECDC4;'><i>false</i></span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>fun</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>function</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:reuse</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>session</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>fun</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:advertised</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>protocols</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:next</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>advertised</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>protocols</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:preferred</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>protocols</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:client</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>preferred</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>next</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocols</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>protocols</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>information</span> <span style='color:#FBFBFF;'>about</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connection</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>info</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>connection</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>information</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>information</span> <span style='color:#FBFBFF;'>about</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>SSL</span> <span style='color:#FBFBFF;'>connection</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>info</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>certificate</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>peer</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>certificate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>certificate</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>peercert</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>certificate</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>peer</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>certificate</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>certificate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Get</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>negotiated</span> <span style='color:#FBFBFF;'>protocol</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>negotiated</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocol</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#D7B884;'>String.</span><span style='color:#FBFBFF;'>t</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>negotiated</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>protocol</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>case</span> <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>negotiated</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>protocol</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>protocol</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>protocol</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:protocol</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>not</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>negotiated</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>           <span style='color:#4ECDC4;'><i>nil</i></span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Renegotiate</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>secure</span> <span style='color:#FBFBFF;'>connection</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>renegotiate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>term</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>renegotiate</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>socket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>socket</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Record.</span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>record</span><span style='color:#9A8BBB;'>(</span><span style='color:#EAC435;'>:sslsocket</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:ssl</i></span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>renegotiate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>Renegotiate</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>secure</span> <span style='color:#FBFBFF;'>connection</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>raising</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurs</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>renegotiate</span><span style='color:#1098F7;'>!</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>no</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>return</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defbang</span> <span style='color:#FBFBFF;'>renegotiate</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>socket</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span></code></pre><br></file>