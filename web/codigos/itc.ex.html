<style> pre{background-color: #292F36;} </style><file name='itc.ex'ubicacion='media/shared/partner1/itc.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Socket.</span><span style='color:#9A8BBB;'>Helpers</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defmacro</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>using</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>opts</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>quote</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>import</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Helpers</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defmacro</span> <span style='color:#FBFBFF;'>defbang</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>args</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>quote</span> <span style='color:#FBFBFF;'>bind</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>quoted:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>to</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>string</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'><</span><span style='color:#9A8BBB;'>></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>String.</span><span style='color:#9A8BBB;'>to</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>unquote</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>splicing</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>splicing</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>result</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>result</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>raise</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Error</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason:</span> <span style='color:#FBFBFF;'>reason</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defmacro</span> <span style='color:#FBFBFF;'>defbang</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>to:</span> <span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>args</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>else:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>quote</span> <span style='color:#FBFBFF;'>bind</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>quoted:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>mod:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>name:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>to</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>string</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'><</span><span style='color:#9A8BBB;'>></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>!</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>|></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>String.</span><span style='color:#9A8BBB;'>to</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>unquote</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>splicing</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>mod</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>splicing</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#EAC435;'><i>:ok</i></span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#EAC435;'><i>:ok</i></span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>result</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>result</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span>
 <span style='color:#C19875'> ·</span>               <span style='color:#FBFBFF;'>raise</span> <span style='color:#D7B884;'>Socket.</span><span style='color:#FBFBFF;'>Error</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>reason:</span> <span style='color:#FBFBFF;'>reason</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defmacro</span> <span style='color:#FBFBFF;'>defwrap</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>self</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>options</span> <span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>instance</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:to</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>quote</span> <span style='color:#FBFBFF;'>bind</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>quoted:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>instance:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>instance</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>field:</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:field</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:socket</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>unquote</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>splicing</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>field</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#C73E1D;'>@protocol</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>instance</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>splicing</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>quote</span> <span style='color:#FBFBFF;'>bind</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>quoted:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>name:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>self:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args:</span> <span style='color:#D7B884;'>Macro.</span><span style='color:#FBFBFF;'>escape</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>field:</span> <span style='color:#FBFBFF;'>options</span><span style='color:#FBFBFF;'>[</span><span style='color:#EAC435;'><i>:field</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#FBFBFF;'>|</span><span style='color:#FBFBFF;'>|</span> <span style='color:#EAC435;'><i>:socket</i></span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>unquote</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>self</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>splicing</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>             <span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>self</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>field</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#C73E1D;'>@protocol</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>unquote</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>splicing</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>args</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>defmacro</span> <span style='color:#FBFBFF;'>definvalid</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>name</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>args</span> <span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>args</span> <span style='color:#1098F7;'>=</span> <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>args</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>{</span> <span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>meta</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>context</span> <span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>-</span> <span style='color:#FBFBFF;'>args</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span> <span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>meta</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>context</span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>quote</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>unquote</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>name</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>unquote</span><span style='color:#03DDB2;'>_</span><span style='color:#03DDB2;'>splicing</span><span style='color:#03DDB2;'>(</span><span style='color:#03DDB2;'>args</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>           <span style='color:#FBFBFF;'>{</span> <span style='color:#EAC435;'><i>:error</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#EAC435;'><i>:einval</i></span> <span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>         <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span></code></pre><br></file>