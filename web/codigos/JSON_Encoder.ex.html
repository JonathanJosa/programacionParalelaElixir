<style> pre{background-color: #292F36;} </style><file name='JSON_Encoder.ex'ubicacion='media/searchCode/P2/JSON_Encoder.ex'><pre><code> <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>JSON.</span><span style='color:#9A8BBB;'>Encoder.</span><span style='color:#9A8BBB;'>Error</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defexception</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info:</span> <span style='color:#4ECDC4;'><i>nil</i></span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>message</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>exception</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>message</span> <span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>An</span> <span style='color:#FBFBFF;'>error</span> <span style='color:#FBFBFF;'>occurred</span> <span style='color:#FBFBFF;'>while</span> <span style='color:#FBFBFF;'>encoding</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>JSON</span> <span style='color:#FBFBFF;'>object</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#4ECDC4;'><i>nil</i></span> <span style='color:#1098F7;'>!</span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>exception</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span>  <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>message</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'>></span><span style='color:#1098F7;'>></span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>exception</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>info</span><span style='color:#FBFBFF;'>}</span><span style='color:#1098F7;'><</span><span style='color:#1098F7;'><</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>error</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>message</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defprotocol</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@fallback</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>any</span> <span style='color:#4ECDC4;'><i>true</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Defines</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>protocol</span> <span style='color:#FBFBFF;'>required</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>converting</span> <span style='color:#FBFBFF;'>Elixir</span> <span style='color:#FBFBFF;'>types</span> <span style='color:#FBFBFF;'>into</span> <span style='color:#FBFBFF;'>JSON</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>inferring</span> <span style='color:#FBFBFF;'>their</span> <span style='color:#FBFBFF;'>json</span> <span style='color:#FBFBFF;'>types</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Returns</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>JSON</span> <span style='color:#FBFBFF;'>string</span> <span style='color:#FBFBFF;'>representation</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>Elixir</span> <span style='color:#FBFBFF;'>term</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#</i></span><span style='color:#565857;'><i># Examples</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>iex</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>result:</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>elixir</span> <span style='color:#FBFBFF;'>result</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>result</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>will</span> <span style='color:#FBFBFF;'>be</span> <span style='color:#FBFBFF;'>a</span> <span style='color:#FBFBFF;'>elixir</span> <span style='color:#FBFBFF;'>result</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@spec</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>bitstring</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>term</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@doc</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Returns</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>an</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>atom</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>that</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>reprsents</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>JSON</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>type</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>for</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>the</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>term</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>#</span><span style='color:#9A8BBB;'># Examples</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>iex</span><span style='color:#9A8BBB;'>></span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>JSON.</span><span style='color:#9A8BBB;'>Encoder.</span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>result:</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>this</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>will</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>be</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>a</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>elixir</span><span style='color:#03DDB2;'> </span><span style='color:#03DDB2;'>result</span><span style='color:#03DDB2;'>"</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:object</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'>"</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>@spec</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>term</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'>:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>atom</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>term</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'>end</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'></span><span style='color:#9A8BBB;'>
</span><span style='color:#9A8BBB;'>defimpl</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>JSON.</span><span style='color:#9A8BBB;'>Encoder</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>for:</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>Tuple</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>term</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#D7B884;'>Tuple.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>term</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#D7B884;'>Helpers.</span><span style='color:#FBFBFF;'>enum</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:array</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>HashDict</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>dict</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#D7B884;'>Helpers.</span><span style='color:#FBFBFF;'>dict</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>dict</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:object</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>List</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>list</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>keyword?</span> <span style='color:#FBFBFF;'>list</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#D7B884;'>Helpers.</span><span style='color:#FBFBFF;'>dict</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#D7B884;'>Helpers.</span><span style='color:#FBFBFF;'>enum</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>[</span><span style='color:#03DDB2;'>]</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:array</i></span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>list</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>if</span> <span style='color:#FBFBFF;'>(</span><span style='color:#D7B884;'>Keyword.</span><span style='color:#FBFBFF;'>keyword?</span> <span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:object</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>else</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#EAC435;'><i>:array</i></span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i># TODO</i></span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>get</span> <span style='color:#FBFBFF;'>rid</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>Number</span><span style='color:#FBFBFF;'>"</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>we</span> <span style='color:#FBFBFF;'>want</span> <span style='color:#FBFBFF;'>to</span> <span style='color:#FBFBFF;'>phase</span> <span style='color:#FBFBFF;'>out</span> <span style='color:#FBFBFF;'>10</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>3</span> <span style='color:#FBFBFF;'>support</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>Number</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Integer</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>Float</span><span style='color:#FBFBFF;'>]</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>number</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#565857;'><i>#</i></span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span> <span style='color:#565857;'><i># Elixir convers octal, etc into decimal when putting in strings</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:number</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>Atom</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>nil</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>null</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>false</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#4ECDC4;'><i>false</i></span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>true</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#4ECDC4;'><i>true</i></span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>atom</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#D7B884;'>Atom.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>string</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>atom</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#FBFBFF;'>encode</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>boolean</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>boolean</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>boolean</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:boolean</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>nil</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:null</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>when</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>is</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>atom</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>atom</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:string</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>BitString</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#32 </i></span><span style='color:#1098F7;'>=</span> <span style='color:#FBFBFF;'>ascii</span> <span style='color:#FBFBFF;'>space</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>cleaner</span> <span style='color:#FBFBFF;'>than</span> <span style='color:#FBFBFF;'>using</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>?</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>I</span> <span style='color:#FBFBFF;'>think</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@acii</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>space</span> <span style='color:#FBFBFF;'>32</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>bitstring</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'><</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>></span><span style='color:#1098F7;'>></span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>recursive</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>bitstring</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'><</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>></span><span style='color:#1098F7;'>></span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>recursive</span><span style='color:#FBFBFF;'>(</span><span style='color:#1098F7;'><</span><span style='color:#1098F7;'><</span> <span style='color:#FBFBFF;'>head</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>utf8</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>tail</span> <span style='color:#1098F7;'>:</span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>binary</span> <span style='color:#1098F7;'>></span><span style='color:#1098F7;'>></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>recursive</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>tail</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>head</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>recursive</span><span style='color:#FBFBFF;'>(</span><span style='color:#EE7B30;'><<></span><span style='color:#1098F7;'>></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reverse</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>string</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span>   <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span>  <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span>  <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>f</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>f</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span>  <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>n</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span>  <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>r</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>r</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span>  <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>t</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span>  <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>and</span> <span style='color:#FBFBFF;'>char</span> <span style='color:#1098F7;'><</span> <span style='color:#C73E1D;'>@acii</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>space</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>u</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>\</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#565857;'><i>#anything else besides these control characters, just let it through</i></span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>binary</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span> <span style='color:#FBFBFF;'>char</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span> <span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>number</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>[</span><span style='color:#D7B884;'>Integer.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>char</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>16</span><span style='color:#FBFBFF;'>)</span> <span style='color:#B80C09;'>|></span> <span style='color:#FBFBFF;'>zeropad</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>reverse</span> <span style='color:#FBFBFF;'>|</span> <span style='color:#FBFBFF;'>acc</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>zeropad</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>c</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>c</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>zeropad</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>    <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span>  <span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>zeropad</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span>       <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>?</span><span style='color:#FBFBFF;'>0</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>]</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>zeropad</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>hexadecimal</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>unicode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>control</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>character</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>iolist</span><span style='color:#FBFBFF;'>)</span> <span style='color:#FBFBFF;'>when</span> <span style='color:#FBFBFF;'>is</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>list</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>iolist</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>iolist</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:string</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>Record</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>record</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>record</span><span style='color:#FBFBFF;'>.</span><span style='color:#FBFBFF;'>to</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>keywords</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#D7B884;'>Helpers.</span><span style='color:#FBFBFF;'>dict</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:object</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i># Encodes maps into object</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i># </i></span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>a</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#EAC435;'><i>:1</i></span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>b</span><span style='color:#FBFBFF;'>\</span><span style='color:#FBFBFF;'>"</span><span style='color:#EAC435;'><i>:2</i></span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>%</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>a:</span> <span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>b:</span> <span style='color:#FBFBFF;'>2</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>Map</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>map</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#FBFBFF;'>map</span> <span style='color:#B80C09;'>|></span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#D7B884;'>Helpers.</span><span style='color:#FBFBFF;'>dict</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#EAC435;'><i>:object</i></span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#565857;'><i>#TODO</i></span><span style='color:#1098F7;'>:</span> <span style='color:#FBFBFF;'>maybe</span> <span style='color:#FBFBFF;'>this</span> <span style='color:#FBFBFF;'>should</span> <span style='color:#FBFBFF;'>return</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>result</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>inspect</span><span style='color:#FBFBFF;'>"</span> <span style='color:#FBFBFF;'>?</span>
 <span style='color:#C19875'> ·</span> <span style='color:#FBFBFF;'>defimpl</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>for:</span> <span style='color:#FBFBFF;'>Any</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@any</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>[</span><span style='color:#D7B884;'>Elixir.</span><span style='color:#FBFBFF;'>Any</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@any</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>typeof</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>_</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'>,</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do:</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#FBFBFF;'>typeof</span><span style='color:#FBFBFF;'>(</span><span style='color:#C73E1D;'>@any</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>defmodule</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>JSON.</span><span style='color:#9A8BBB;'>Encoder.</span><span style='color:#9A8BBB;'>Helpers</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@moduledoc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Helper</span> <span style='color:#FBFBFF;'>functions</span> <span style='color:#FBFBFF;'>for</span> <span style='color:#FBFBFF;'>writing</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#FBFBFF;'>Encoder</span> <span style='color:#FBFBFF;'>instances</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Given</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>enumerable</span> <span style='color:#FBFBFF;'>encode</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>enumerable</span> <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>array</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>enum</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>coll</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>[</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>coll</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>&</span><span style='color:#FBFBFF;'>1</span><span style='color:#FBFBFF;'>)</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>]</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#C73E1D;'>@doc</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>Given</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>enumerable</span> <span style='color:#FBFBFF;'>that</span> <span style='color:#FBFBFF;'>yields</span> <span style='color:#FBFBFF;'>tuples</span> <span style='color:#FBFBFF;'>of</span> <span style='color:#FBFBFF;'>`</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>value</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>`</span> <span style='color:#FBFBFF;'>encode</span> <span style='color:#FBFBFF;'>the</span> <span style='color:#FBFBFF;'>enumerable</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>as</span> <span style='color:#FBFBFF;'>an</span> <span style='color:#FBFBFF;'>object</span><span style='color:#FBFBFF;'>.</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>"</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>def</span><span style='color:#9A8BBB;'> </span><span style='color:#9A8BBB;'>dict</span><span style='color:#9A8BBB;'>_</span><span style='color:#9A8BBB;'>encode</span><span style='color:#9A8BBB;'>(</span><span style='color:#03DDB2;'>coll</span><span style='color:#9A8BBB;'>)</span><span style='color:#9A8BBB;'> </span><span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>      <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#D7B884;'>Enum.</span><span style='color:#FBFBFF;'>map</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>join</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>coll</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>,</span> <span style='color:#1098F7;'>fn</span> <span style='color:#FBFBFF;'>{</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>object</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>key</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>"</span><span style='color:#1098F7;'>:</span><span style='color:#FBFBFF;'>"</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span>  <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>object</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>end</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'><</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span><span style='color:#FBFBFF;'>"</span><span style='color:#FBFBFF;'>}</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> 
 <span style='color:#C19875'> ·</span>   <span style='color:#FBFBFF;'>defp</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>)</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>=</span> <span style='color:#D7B884;'>JSON.</span><span style='color:#D7B884;'>Encoder.</span><span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>(</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>)</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#FBFBFF;'>case</span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>result</span> <span style='color:#1098F7;'>do</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>{</span><span style='color:#EAC435;'><i>:ok</i></span><span style='color:#FBFBFF;'>,</span> <span style='color:#FBFBFF;'>encoded</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>item</span><span style='color:#FBFBFF;'>}</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>encoded</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>item</span>
 <span style='color:#C19875'> ·</span>       <span style='color:#FBFBFF;'>_</span> <span style='color:#1098F7;'>-</span><span style='color:#1098F7;'>></span> <span style='color:#FBFBFF;'>encode</span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>result</span> <span style='color:#565857;'><i>#propagate error, will trigger error in map</i></span><span style='color:#FBFBFF;'>_</span><span style='color:#FBFBFF;'>join</span>
 <span style='color:#C19875'> ·</span>     <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span>   <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> <span style='color:#1098F7;'>end</span>
 <span style='color:#C19875'> ·</span> </code></pre><br></file>